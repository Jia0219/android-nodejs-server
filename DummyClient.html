<!DOCTYPE html>
<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<head>
	<title></title>
</head>
<!--
<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/tripledes.js"></script>
<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes.js"></script>
-->
<script src="D:/项目/github/android-nodejs-server/socket.io/socket.io.js"></script>
<script type="text/javascript">

var JsonFormatter = {
        stringify: function (cipherParams) {
            // create json object with ciphertext
            var jsonObj = {
                ct: cipherParams.ciphertext.toString(CryptoJS.enc.Base64)
            };

            // optionally add iv and salt
            if (cipherParams.iv) {
                jsonObj.iv = cipherParams.iv.toString();
            }
            if (cipherParams.salt) {
                jsonObj.s = cipherParams.salt.toString();
            }

            // stringify json object
            return JSON.stringify(jsonObj);
        },

        parse: function (jsonStr) {
            // parse json string
            var jsonObj = JSON.parse(jsonStr);

            // extract ciphertext from json object, and create cipher params object
            var cipherParams = CryptoJS.lib.CipherParams.create({
                ciphertext: CryptoJS.enc.Base64.parse(jsonObj.ct)
            });

            // optionally extract iv and salt
            if (jsonObj.iv) {
                cipherParams.iv = CryptoJS.enc.Hex.parse(jsonObj.iv)
            }
            if (jsonObj.s) {
                cipherParams.salt = CryptoJS.enc.Hex.parse(jsonObj.s)
            }

            return cipherParams;
        }
    };


function encrypted(formObj){
	
  //var key = CryptoJS.enc.Hex.parse('password');
   // var iv  = CryptoJS.enc.Hex.parse('vector');
    //var salt  = CryptoJS.enc.Hex.parse('salt');
	//alert('encrypted');
  //var encrypted = CryptoJS.AES.encrypt(StringS, 'password','salt','vector');
  //var encrypted = CryptoJS.TripleDES.encrypt(StringS, key,{ iv: iv });
   //alert(encrypted.key);        // 74eb593087a982e2a6f5dded54ecd96d1fd0f3d44a58728cdcd40c55227522223
   //alert(encrypted.iv);         // 7781157e2629b094f0e3dd48c4d786115
   //alert(encrypted.salt);       // 7a25f9132ec6a8b34

    var formObj = document.getElementById("form");
    //登录
    //var StringS = '{"credential":"fEqNCco3Yq9h5ZUglD3CZJT4lBs=","username":"feng-jin.deng@ivision-china.cn"}';
  	//formObj.action =  'http://127.0.0.1:8000/login?'+ StringS;

  	//考勤规则
  	//var StringS = '{"userid":"26","startdt":"20140501","enddt":"20140531"}';
  	//formObj.action =  'http://127.0.0.1:8000/getWHSetting?'+ StringS;

    //取得可填写的项目
    var StringS = '{"userid":"81","currentdt":"20140703","uuid":"7485d6b3-c8b6-43b9-bea0-8fc8a8f2400f"}';
    formObj.action =  'http://127.0.0.1:8000//getAvailPJ?'+ StringS;


     //日历设定
  	//var StringS = '{"startdt":"20140501","enddt":"20140531"}';
  	//formObj.action =  'http://127.0.0.1:8000/getCalendar?'+ StringS;

  	//申请记录
  	//var StringS = '{"userid":"24","startdt":"20140501","enddt":"20140531"}';
  	//formObj.action =  'http://127.0.0.1:8000/getWHDetailList?'+ StringS;


    //门禁取得记录
    //var StringS = '{"errno":"","errmsg":"","queryresult0":{"EmployeeID":"10002","objdate":"20140623","OutTime":"2014-06-23T01:28:00.000Z","inTime":"2014-06-23T01:28:07.000Z"},"queryresult1":{"EmployeeID":"200900704","objdate":"20140623","OutTime":"2014-06-23T01:28:00.000Z","inTime":"2014-06-23T01:28:07.000Z"},"rowcount":"2"}';
    //formObj.action =  'http://127.0.0.1:8000/insertAccessRecord?'+ StringS;


    formObj.submit();

}
</script>
<body>
<FORM name= 'form' id='form' action='http://127.0.0.1:8000/'
       enctype="multipart/form-data"
       method="post" >

   <INPUT type="button" value="Send" onclick="encrypted();"> 
 </FORM>
</body>
</html>
